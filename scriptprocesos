-- Eliminamos la tabla descriptions si existe
DROP TABLE IF EXISTS `descriptions`;

-- Creamos la tabla descriptions
CREATE TABLE `descriptions` (
  `id_description` INT NOT NULL AUTO_INCREMENT,
  `name_description` VARCHAR(255) COLLATE utf8mb4_general_ci NOT NULL, -- Aumentado el tamaño y se establece NOT NULL
  `lesson_id` INT NOT NULL, -- Se asegura que la lección no pueda ser nula
  `status` TINYINT(1) DEFAULT 1, -- Estado de la descripción: 1 (activo), 0 (inactivo)
  PRIMARY KEY (`id_description`),
  KEY `idx_lesson_id` (`lesson_id`), -- Renombrado el índice para mayor claridad
  CONSTRAINT `fk_lesson_id` FOREIGN KEY (`lesson_id`) REFERENCES `lessons` (`id_lesson`) ON DELETE CASCADE -- Se agrega ON DELETE CASCADE para mantener la integridad
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- ----------------------------
-- Records of descriptions
-- ----------------------------
BEGIN;
COMMIT;


